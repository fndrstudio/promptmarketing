---
phase: 04-technical-seo
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/components/seo/OrganizationSchema.astro
  - src/components/seo/WebSiteSchema.astro
  - src/components/seo/ServiceSchema.astro
  - src/components/seo/BlogPostingSchema.astro
autonomous: true

must_haves:
  truths:
    - "astro-seo-schema package is installed"
    - "Schema components render valid JSON-LD scripts"
    - "Organization schema includes Amsterdam location and 2026 founding date"
    - "Service schema accepts pillar name and description as props"
  artifacts:
    - path: "src/components/seo/OrganizationSchema.astro"
      provides: "Organization JSON-LD for homepage/about"
      contains: "PromptMarketing"
      min_lines: 20
    - path: "src/components/seo/WebSiteSchema.astro"
      provides: "WebSite JSON-LD for homepage"
      contains: "@type.*WebSite"
      min_lines: 15
    - path: "src/components/seo/ServiceSchema.astro"
      provides: "Service JSON-LD for pillars"
      contains: "@type.*Service"
      min_lines: 20
    - path: "src/components/seo/BlogPostingSchema.astro"
      provides: "BlogPosting JSON-LD for blog posts"
      contains: "@type.*BlogPosting"
      min_lines: 30
  key_links:
    - from: "src/components/seo/ServiceSchema.astro"
      to: "OrganizationSchema"
      via: "@id reference"
      pattern: "#organization"
    - from: "src/components/seo/BlogPostingSchema.astro"
      to: "OrganizationSchema"
      via: "publisher reference"
      pattern: "publisher.*Organization"
---

<objective>
Install schema packages and create reusable Schema.org components.

Purpose: SEO-02 preparation - create the Schema.org component library that will be integrated into pages in the next plan.

Output:
- astro-seo-schema and schema-dts packages installed
- src/components/seo/ directory with 4 schema components
- Components ready for integration into Layout and pages
</objective>

<execution_context>
@/Users/thuijsmans/.claude/get-shit-done/workflows/execute-plan.md
@/Users/thuijsmans/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-technical-seo/04-CONTEXT.md
@.planning/phases/04-technical-seo/04-RESEARCH.md

@src/config/config.ts
@src/layouts/Layout.astro
@src/layouts/BlogLayout.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install astro-seo-schema and schema-dts packages</name>
  <files>package.json</files>
  <action>
Install the Schema.org packages:

```bash
npm install schema-dts astro-seo-schema
```

Verify installation by checking package.json dependencies include both packages.

These provide:
- `schema-dts`: TypeScript definitions for all Schema.org types
- `astro-seo-schema`: Astro component for rendering JSON-LD scripts
  </action>
  <verify>
Run: `npm list schema-dts astro-seo-schema`
Should show both packages installed without errors.
  </verify>
  <done>Both schema-dts and astro-seo-schema are in dependencies</done>
</task>

<task type="auto">
  <name>Task 2: Create OrganizationSchema and WebSiteSchema components</name>
  <files>
src/components/seo/OrganizationSchema.astro
src/components/seo/WebSiteSchema.astro
  </files>
  <action>
Create src/components/seo/ directory and add Organization + WebSite schemas.

**OrganizationSchema.astro:**
```astro
---
// OrganizationSchema.astro
// Renders Organization JSON-LD for homepage and about page
import { Schema } from 'astro-seo-schema';
import { configData } from '../../config/config';

const siteUrl = 'https://promptmarketing.com';
---

<Schema
  item={{
    '@context': 'https://schema.org',
    '@type': 'Organization',
    '@id': `${siteUrl}/#organization`,
    name: 'PromptMarketing',
    url: siteUrl,
    logo: {
      '@type': 'ImageObject',
      url: `${siteUrl}/logo-black.png`,
      width: '200',
      height: '60'
    },
    description: configData.siteDescription,
    foundingDate: '2026',
    address: {
      '@type': 'PostalAddress',
      addressLocality: 'Amsterdam',
      addressCountry: 'NL'
    },
    sameAs: [
      // LinkedIn URL to be added when available
    ],
    contactPoint: {
      '@type': 'ContactPoint',
      contactType: 'sales',
      url: `${siteUrl}/contact`
    }
  }}
/>
```

Note: Using `Organization` type (not ProfessionalService which is deprecated, and ConsultingAgency doesn't exist in Schema.org).

**WebSiteSchema.astro:**
```astro
---
// WebSiteSchema.astro
// Renders WebSite JSON-LD for homepage
import { Schema } from 'astro-seo-schema';

const siteUrl = 'https://promptmarketing.com';
---

<Schema
  item={{
    '@context': 'https://schema.org',
    '@type': 'WebSite',
    '@id': `${siteUrl}/#website`,
    name: 'PromptMarketing',
    url: siteUrl,
    description: 'Operationalizing Machine Trust through Relevance Engineering',
    publisher: {
      '@type': 'Organization',
      '@id': `${siteUrl}/#organization`
    }
  }}
/>
```
  </action>
  <verify>
Run: `ls -la src/components/seo/`
Should show OrganizationSchema.astro and WebSiteSchema.astro

Run: `grep -l "schema.org" src/components/seo/*.astro | wc -l`
Should return at least 2
  </verify>
  <done>OrganizationSchema and WebSiteSchema components exist with valid JSON-LD structure</done>
</task>

<task type="auto">
  <name>Task 3: Create ServiceSchema and BlogPostingSchema components</name>
  <files>
src/components/seo/ServiceSchema.astro
src/components/seo/BlogPostingSchema.astro
  </files>
  <action>
**ServiceSchema.astro:**
Accepts props for the 4 service pillars (Prompt Intelligence, Relevance Engineering, Agentic Commerce, AI Advertising).

```astro
---
// ServiceSchema.astro
// Renders Service JSON-LD for each pillar on How We Work page
import { Schema } from 'astro-seo-schema';

interface Props {
  name: string;
  description: string;
  serviceType?: string;
}

const { name, description, serviceType = 'ConsultingService' } = Astro.props;
const siteUrl = 'https://promptmarketing.com';
---

<Schema
  item={{
    '@context': 'https://schema.org',
    '@type': 'Service',
    name: name,
    description: description,
    serviceType: serviceType,
    provider: {
      '@type': 'Organization',
      '@id': `${siteUrl}/#organization`
    },
    areaServed: {
      '@type': 'Place',
      name: 'Worldwide'
    }
  }}
/>
```

**BlogPostingSchema.astro:**
Accepts frontmatter props from blog posts. MUST include publisher with logo (required by Google for rich results).

```astro
---
// BlogPostingSchema.astro
// Renders BlogPosting JSON-LD for individual blog posts
import { Schema } from 'astro-seo-schema';

interface Props {
  title: string;
  description: string;
  pubDate: Date;
  author: string;
  image?: string;
}

const { title, description, pubDate, author, image } = Astro.props;
const siteUrl = 'https://promptmarketing.com';
const pageUrl = Astro.url.href;

// Format author name from slug (e.g., "john-doe" -> "John Doe")
const formattedAuthor = author
  .split('-')
  .map((part: string) => part.charAt(0).toUpperCase() + part.slice(1))
  .join(' ');
---

<Schema
  item={{
    '@context': 'https://schema.org',
    '@type': 'BlogPosting',
    headline: title,
    description: description,
    image: image ? [`${siteUrl}${image}`] : undefined,
    datePublished: pubDate.toISOString(),
    author: {
      '@type': 'Person',
      name: formattedAuthor
    },
    publisher: {
      '@type': 'Organization',
      '@id': `${siteUrl}/#organization`,
      name: 'PromptMarketing',
      logo: {
        '@type': 'ImageObject',
        url: `${siteUrl}/logo-black.png`
      }
    },
    mainEntityOfPage: {
      '@type': 'WebPage',
      '@id': pageUrl
    }
  }}
/>
```
  </action>
  <verify>
Run: `ls -la src/components/seo/`
Should show all 4 schema components.

Run: `grep -c "publisher" src/components/seo/BlogPostingSchema.astro`
Should return >= 1 (publisher is required for Google rich results)
  </verify>
  <done>ServiceSchema and BlogPostingSchema components exist with proper props interface and publisher info</done>
</task>

</tasks>

<verification>
After all tasks:
1. `npm list schema-dts astro-seo-schema` shows both packages
2. `ls src/components/seo/` shows 4 .astro files
3. All components import from 'astro-seo-schema'
4. OrganizationSchema has foundingDate '2026' and Amsterdam address
5. ServiceSchema references organization via @id
6. BlogPostingSchema includes publisher with logo
7. `npm run build` succeeds (components are syntactically valid)
</verification>

<success_criteria>
- astro-seo-schema and schema-dts packages installed
- src/components/seo/ directory exists with 4 components
- OrganizationSchema uses Organization type with Amsterdam, NL and 2026 founding
- WebSiteSchema references Organization via @id
- ServiceSchema accepts name/description props, references provider Organization
- BlogPostingSchema accepts frontmatter props, includes required publisher with logo
- All components use https://promptmarketing.com as siteUrl
</success_criteria>

<output>
After completion, create `.planning/phases/04-technical-seo/04-02-SUMMARY.md`
</output>
