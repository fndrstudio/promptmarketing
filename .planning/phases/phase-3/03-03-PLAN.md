# Plan 03-03: Create Portfolio Page

## Metadata
```yaml
phase: 3
plan: 3
title: "Create Portfolio Page"
scope: "Build Portfolio/Case Studies page using blog collection pattern"
autonomous: true
parallel_safe: true
depends_on: []
wave: 1
estimated_tasks: 4
files_modified:
  - src/content/config.ts (add portfolio collection)
  - src/pages/portfolio/[...page].astro (new)
  - src/pages/portfolio/[...id].astro (new)
  - src/content/portfolio/ (new directory with placeholder content)
```

## Goal
Create the Portfolio page using Astro's content collections pattern (same as blog). Navigation already points to /portfolio from Phase 2. The page will display case studies in a card grid format. Initially populated with placeholder content that can be expanded later.

## Must Haves

### Truths (verifiable after completion)
- [ ] /portfolio route returns 200
- [ ] Portfolio page displays case study cards
- [ ] Individual case study pages work (/portfolio/[slug])
- [ ] Content collection properly configured
- [ ] Navigation link to /portfolio works

### Artifacts (files created/modified)
- [ ] `src/content/config.ts` - Portfolio collection added
- [ ] `src/pages/portfolio/[...page].astro` - Portfolio listing page
- [ ] `src/pages/portfolio/[...id].astro` - Individual case study page
- [ ] `src/content/portfolio/*.md` - At least 1 placeholder case study

### Key Links (routing/navigation)
- [ ] /portfolio route works
- [ ] Individual case study routes work
- [ ] CTAs link to /contact

## Tasks

### Task 1: Update content config to add portfolio collection
**File:** `src/content/config.ts`

Add the portfolio collection definition alongside the existing blog collection:

```typescript
// Add portfolio collection with same structure as blog
const portfolio = defineCollection({
	schema: z.object({
		title: z.string(),
		client: z.string(),
		pubDate: z.date(),
		description: z.string(),
		challenge: z.string(),
		solution: z.string(),
		results: z.array(z.string()),
		image: z.string(),
		thumbnail: z.string()
	})
})

// Update exports to include portfolio
export const collections = { blog, portfolio }
```

### Task 2: Create portfolio listing page
**File:** `src/pages/portfolio/[...page].astro` (new file)

Create portfolio listing page based on blog/[...page].astro pattern:

```astro
---
// Portfolio Page
// ------------
// Description: The portfolio page displays all case studies.

// Components
// - Layout
import Layout from '../../layouts/Layout.astro'
// - Blocks
import Hero from '../../components/blocks/hero/SimpleHeroBasic.astro'
import PostCards from '../../components/blocks/blog/PostCards.astro'

// - Collection
import { getCollection } from 'astro:content'

export async function getStaticPaths({ paginate }: any) {
	const allCaseStudies = await getCollection('portfolio', ({ id }) => id)
	return paginate(allCaseStudies, { pageSize: 100 })
}
const { page } = Astro.props as any

// Content
// - SEO
const SEO = {
	title: 'PromptMarketing | Portfolio',
	description:
		'Case studies showcasing how we help brands become visible and trustworthy to AI systems. Real results from Relevance Engineering engagements.'
}

// Sort case studies by publication date (newest first)
const sortedCaseStudies = page.data.sort((a: any, b: any) => {
	return new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()
})
---

<Layout title={SEO.title} description={SEO.description}>
	<Hero
		subtitle="Case Studies"
		title="Client Success Stories"
		text="Real results from brands who took AI visibility seriously. Each engagement starts with measurement and ends with observable improvement."
	/>
	<PostCards data={sortedCaseStudies} basePath="/portfolio" />
</Layout>
```

### Task 3: Create individual case study page
**File:** `src/pages/portfolio/[...id].astro` (new file)

Create individual case study page based on blog/[...id].astro pattern:

```astro
---
// Case Study Single Page
// ------------
// Description: Individual case study detail page.

// Components
// - Layout
import Layout from '../../layouts/Layout.astro'
// - Blocks
import SinglePost from '../../components/blocks/blog/SinglePost.astro'
import CTA from '../../components/blocks/cta/CTAPrimary.astro'

// - Collection
import { getCollection } from 'astro:content'

export async function getStaticPaths() {
	const allCaseStudies = await getCollection('portfolio')
	return allCaseStudies.map((caseStudy) => ({
		params: { id: caseStudy.slug },
		props: { caseStudy }
	}))
}

const { caseStudy } = Astro.props
const { Content } = await caseStudy.render()

// Content
// - SEO
const SEO = {
	title: `PromptMarketing | ${caseStudy.data.title}`,
	description: caseStudy.data.description
}
// - CTA data
const ctaData = {
	title: 'Ready for Similar Results?',
	text: 'Every engagement starts with understanding where you stand. Let\'s discuss your AI visibility challenges.',
	buttonLink: '/contact',
	buttonText: 'Start a Conversation'
}
---

<Layout title={SEO.title} description={SEO.description}>
	<SinglePost frontmatter={caseStudy.data}>
		<Content />
	</SinglePost>
	<CTA
		title={ctaData.title}
		text={ctaData.text}
		buttonLink={ctaData.buttonLink}
		buttonText={ctaData.buttonText}
	/>
</Layout>
```

### Task 4: Create placeholder case study content
**File:** `src/content/portfolio/example-case-study.md` (new file)

Create at least one placeholder case study:

```markdown
---
title: 'How [Client] Increased AI Visibility by 40%'
client: 'Example Client'
pubDate: 2026-01-15T00:00:00.000Z
description: 'A B2B SaaS company discovered they were invisible to AI recommendation systems. Through systematic Relevance Engineering, we transformed their machine-readability.'
challenge: 'Low AI Selection Rate despite strong traditional SEO performance.'
solution: 'Comprehensive GEO audit followed by Schema.org implementation and entity optimization.'
results:
  - '+40% AI Selection Rate within 3 months'
  - 'Featured in ChatGPT responses for 12 target queries'
  - 'Knowledge panel accuracy improved from 60% to 95%'
image: '/collections/blog/image-01.webp'
thumbnail: '/collections/blog/image-01.webp'
---

## The Challenge

[Client] had invested heavily in traditional SEO and content marketing. Their organic search rankings were strong, but they noticed something concerning: when prospects asked AI assistants for recommendations in their category, [Client] was rarely mentioned.

Their AI Selection Rate, how often AI systems recommended them when relevant, was just 12%, compared to 45% for their main competitor.

## Our Approach

We started with a GEO Readiness Audit to map exactly where the gaps were:

1. **Latent Space Analysis**: Understood how AI models perceived [Client] versus competitors
2. **Entity Relationship Mapping**: Identified weak or missing connections in knowledge graphs
3. **Technical Infrastructure Review**: Assessed Schema.org implementation and machine-readability

## The Implementation

Based on the audit findings, we implemented a Relevance Engineering program:

- Comprehensive Schema.org markup across all key pages
- Entity optimization to strengthen knowledge graph presence
- Content authority signals aligned with AI understanding patterns
- llms.txt implementation for direct AI discoverability

## Results

Within three months of implementation:

- AI Selection Rate increased from 12% to 52%
- Featured in ChatGPT responses for 12 of 15 target queries
- Knowledge panel accuracy improved from 60% to 95%
- Organic traffic from AI-referred sources increased 3x

## Key Takeaway

Traditional SEO and GEO are complementary, not competing. [Client]'s strong content foundation meant the Relevance Engineering work could build on existing assets rather than starting from scratch.
```

## Verification

After completing all tasks:

1. **Route Check - Portfolio List**:
   ```bash
   curl -s -o /dev/null -w "%{http_code}" http://localhost:4321/portfolio
   ```
   Expected: 200

2. **Route Check - Individual Case Study**:
   ```bash
   curl -s -o /dev/null -w "%{http_code}" http://localhost:4321/portfolio/example-case-study
   ```
   Expected: 200

3. **Collection Config Check**:
   ```bash
   grep "portfolio" src/content/config.ts
   ```
   Expected: portfolio collection defined

4. **Content Exists**:
   ```bash
   ls src/content/portfolio/
   ```
   Expected: At least one .md file

5. **Build Check**:
   ```bash
   npm run build 2>&1 | grep -i "error"
   ```
   Expected: No errors

## Notes

- Reuses existing PostCards component from blog for consistency
- PostCards component needs basePath prop to handle /portfolio vs /blog routing
- If PostCards doesn't support basePath, may need minor component modification
- Placeholder content uses existing blog images, replace with real case study images later
- Schema can be extended later to include more case study-specific fields (industry, services used, etc.)
