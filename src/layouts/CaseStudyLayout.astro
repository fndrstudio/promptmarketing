---
// Case Study Layout
// ------------
// Description: A layout for portfolio case studies
// Properties:
// - frontmatter: The frontmatter of the case study

// Imports
const { frontmatter } = Astro.props

// Components
// - Layout
import Layout from './Layout.astro'
import Col from '../components/ui/Col.astro'
import Row from '../components/ui/Row.astro'
import Section from '../components/ui/Section.astro'
// - Blocks
import Hero from '../components/blocks/hero/SimpleHeroBasic.astro'
import CTAPrimary from '../components/blocks/cta/CTAPrimary.astro'
// - UI
import DecorationBorder from '../components/ui/DecorationBorder.astro'
import { Image } from 'astro:assets'

// Content
// - CTA data
const CTA = {
	title: 'Ready for Similar Results?',
	text: "Every engagement starts with understanding where you stand. Let's discuss your AI visibility challenges and explore what Relevance Engineering could do for your brand.",
	buttonText: 'Start a Conversation',
	buttonLink: '/contact'
}
---

<Layout title={frontmatter.title} description={frontmatter.description}>
	<Hero
		subtitle={`Case Study: ${frontmatter.client}`}
		title={frontmatter.title}
		text={frontmatter.description}
		titleWidth="max-w-full"
	/>
	{
		frontmatter.image && (
			<Section>
				<Row>
					<Col span="12">
						<div class="parallax h-96 w-full lg:h-[680px]">
							<Image
								class="h-[calc(100%+50px)] w-full object-cover will-change-transform"
								src={frontmatter.image}
								alt={frontmatter.title}
								width={1920}
								height={1080}
								loading="lazy"
								decoding="async"
								layout="constrained"
							/>
						</div>
					</Col>
				</Row>
			</Section>
		)
	}
	<!-- Case Study Summary Cards -->
	<Section>
		<Row>
			<Col span="4">
				<div class="rounded-lg border border-neutral-200 bg-white p-6 dark:border-neutral-800 dark:bg-neutral-900">
					<h3 class="mb-3 font-serif text-lg font-semibold text-neutral-900 dark:text-white">The Challenge</h3>
					<p class="text-neutral-600 dark:text-neutral-400">{frontmatter.challenge}</p>
				</div>
			</Col>
			<Col span="4">
				<div class="rounded-lg border border-neutral-200 bg-white p-6 dark:border-neutral-800 dark:bg-neutral-900">
					<h3 class="mb-3 font-serif text-lg font-semibold text-neutral-900 dark:text-white">Our Solution</h3>
					<p class="text-neutral-600 dark:text-neutral-400">{frontmatter.solution}</p>
				</div>
			</Col>
			<Col span="4">
				<div class="rounded-lg border border-neutral-200 bg-white p-6 dark:border-neutral-800 dark:bg-neutral-900">
					<h3 class="mb-3 font-serif text-lg font-semibold text-neutral-900 dark:text-white">Results</h3>
					<ul class="list-inside list-disc text-neutral-600 dark:text-neutral-400">
						{frontmatter.results.map((result: string) => (
							<li>{result}</li>
						))}
					</ul>
				</div>
			</Col>
		</Row>
	</Section>
	<!-- Case Study Content -->
	<Section>
		<Row style="semitransparent">
			<Col style="transparent" span="12" classes="basic-text flex justify-center items-center">
				<div
					class="relative max-w-5xl bg-white text-xl leading-9 dark:bg-neutral-950 [&_p]:px-8 [&_p]:first:pt-6"
				>
					<slot />
					<DecorationBorder type="top right bottom left" style="solid" />
				</div>
			</Col>
		</Row>
	</Section>
	<CTAPrimary
		title={CTA.title}
		text={CTA.text}
		buttonText={CTA.buttonText}
		buttonLink={CTA.buttonLink}
	/>
</Layout>
